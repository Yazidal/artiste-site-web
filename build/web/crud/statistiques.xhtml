<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"  xmlns:p="http://primefaces.org/ui">  

    <h:head>
        <title>Statistiques</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"/>
        
    </h:head>
    <h:body>
        #{visitesBean.moyvisites()}
        #{visitesBean.record_visite_jour()}
        #{visitesBean.totalvisites()}
        #{visitesBean.visites_jour(request)}
        <h:form>
            <p:growl id="messages"/>
            <p:menubar>
               <p:menuitem id="o" value="Oeuvres" url="oeuvreCrud.xhtml" />
               <p:menuitem id="e" value="Expositions" url="expoCrud.xhtml" />
               <p:menuitem id="a" value="Ateliers" url="atelierCrud.xhtml" />
               <p:menuitem id="m" value="Mes infos" url="infoCrud.xhtml" />
               <p:menuitem id="s" value="Statistiques" url="statistiques.xhtml" />
            </p:menubar>
        </h:form>
        <br/><br/>
        <div class="card text-center">
            <div class="card-header bg-transparent">
                
                <img src="../resources/images/stats.PNG" alt="stats"/>
            </div>
            <div class="card-body">
                <p class="card-text">Nombre de pages totales visitées : <strong>#{visitesBean.sum}</strong></p>
                
                <p class="card-text">Nombre de pages visitées aujourd'hui : <strong>#{visitesBean.nb_parjr}</strong></p>
                <p class="card-text">Record du nombre de visites par jour : <strong>#{visitesBean.record}</strong> établi le <strong>#{visitesBean.date}</strong></p>
                <p class="card-text">Moyenne du nombre de pages visitées : <strong>#{visitesBean.moy}</strong> visiteurs par jour</p>
            </div>
        </div>
    </h:body>
</html>

